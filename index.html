<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feliz Anivers√°rio, M√°rcia üí´</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      height: 100vh;
      background: #0e0e0e;
      color: #f2f2f2;
      font-family: 'Courier New', monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: left;
      overflow: hidden;
      transition: opacity 2s ease-in-out;
    }

    .terminal {
      background: transparent;
      color: #e6d2b5;
      font-size: 1.2rem;
      padding: 25px 40px;
      border-left: 2px solid #d6b88a;
      white-space: pre;
      line-height: 1.6;
      min-width: 320px;
      max-width: 600px;
      border-right: 2px solid #d6b88a;
      animation: blink 1s step-end infinite;
    }

    @keyframes blink {
      50% { border-color: transparent; }
    }

    .heart {
      font-size: 2rem;
      margin-top: 25px;
      color: #ff2d55;
      opacity: 0;
      animation: pulse 1.5s infinite ease-in-out;
      transition: opacity 1s ease-in-out;
    }

    .reveal {
      opacity: 1 !important;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    footer {
      position: absolute;
      bottom: 12px;
      font-size: 0.85rem;
      color: #666;
    }

    #start-screen {
      position: fixed;
      inset: 0;
      background: #0e0e0e;
      color: #e6d2b5;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: 'Courier New', monospace;
      text-align: center;
      z-index: 10;
      transition: opacity 1s ease-in-out;
    }

    #start-screen button {
      background: #d6b88a;
      color: #111;
      border: none;
      padding: 10px 25px;
      border-radius: 25px;
      font-family: 'Courier New', monospace;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease-in-out;
    }

    #start-screen button:hover {
      background: #e6d2b5;
      transform: scale(1.05);
    }

    @media (max-width: 600px) {
      .terminal {
        font-size: 1rem;
        padding: 20px;
      }
    }
  </style>
</head>
<body>

  <div id="start-screen">
    <p style="margin-bottom:15px;">Clique para iniciar a surpresa üéß</p>
    <button id="play">Iniciar üí´</button>
  </div>

  <div class="terminal" id="terminal"></div>
  <div class="heart" id="heart">‚ù§Ô∏è</div>

  <footer>¬© 2025 ‚Äî Criado com ‚ù§Ô∏è por um Dev que admira voc√™</footer>

   <script>
const terminal = document.getElementById('terminal');
const heart = document.getElementById('heart');
const playButton = document.getElementById('play');
const startScreen = document.getElementById('start-screen');

let music = new Audio('music.mp3');
music.preload = 'auto';
music.loop = false;
music.volume = 0.5;

// Estrutura das falas com tempos e efeitos
const lines = [
  { text: "Inicializando sistema", delay: 7000, dots: true },
  { text: "Carregando lembran√ßas...", delay: 7000, dots: false },
  { text: "Compilando sorrisos", delay: 10000, dots: true, play: true }, // come√ßa m√∫sica aqui
  { text: "Renderizando carinho", delay: 9000, dots: true },
  { text: "Executando surpresa", delay: 9000, dots: true },
  { text: "Output: Feliz anivers√°rio, M√°rcia üí´", delay: 7000, dots: false },
  { text: "Voc√™ √© a exce√ß√£o mais linda da minha l√≥gica ‚ù§Ô∏è", delay: 10000, dots: false }
];

let currentLine = 0;

function typeLine(line) {
  if (line.dots) {
    // efeito de carregamento com pontinhos
    terminal.textContent += line.text;
    let dots = 0;
    const loading = setInterval(() => {
      dots = (dots + 1) % 4;
      terminal.textContent = terminal.textContent.split('\n').slice(0, -1).join('\n') + "\n" + line.text + '.'.repeat(dots);
    }, 500);

    setTimeout(() => {
      clearInterval(loading);
      terminal.textContent += "\n";
      nextLine();
    }, line.delay);

    // se for o momento de iniciar a m√∫sica
    if (line.play) {
      setTimeout(() => {
        playMusic();
      }, 0); // toca imediatamente no "Compilando sorrisos"
    }

  } else {
    // digita√ß√£o normal letra por letra
    let idx = 0;
    const interval = setInterval(() => {
      if (idx < line.text.length) {
        terminal.textContent += line.text[idx++];
      } else {
        clearInterval(interval);
        terminal.textContent += "\n";
        setTimeout(nextLine, line.delay);
      }
    }, 100);
  }
}

function nextLine() {
  if (currentLine < lines.length) {
    typeLine(lines[currentLine]);
    currentLine++;
  } else {
    heart.classList.add('reveal');
    fadeOutMusic();
  }
}

function playMusic() {
  // come√ßa a tocar aos 28 segundos
  music.currentTime = 28;
  music.play().then(() => fadeInMusic())
  .catch(err => console.warn("Erro ao tocar m√∫sica:", err));
}

function fadeInMusic() {
  const fadeIn = setInterval(() => {
    if (music.volume < 1) {
      music.volume = Math.min(music.volume + 0.01, 1);
    } else clearInterval(fadeIn);
  }, 100);
}

function fadeOutMusic() {
  const fadeOut = setInterval(() => {
    if (music.volume > 0.02) {
      music.volume = Math.max(music.volume - 0.02, 0);
    } else {
      clearInterval(fadeOut);
      music.pause();
      smoothRestart();
    }
  }, 200);
}

function smoothRestart() {
  document.body.style.opacity = "0";
  setTimeout(() => {
    terminal.textContent = "";
    heart.classList.remove('reveal');
    currentLine = 0;
    music = new Audio('music.mp3');
    music.preload = 'auto';
    music.loop = false;
    music.volume = 0.5;
    startScreen.style.display = "flex";
    document.body.style.opacity = "1";
  }, 2500);
}

playButton.addEventListener('click', () => {
  startScreen.style.opacity = "0";
  setTimeout(() => {
    startScreen.style.display = "none";
    terminal.textContent = "";
    nextLine();
  }, 500);
});
</script>




</body>
</html>
